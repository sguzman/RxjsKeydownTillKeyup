<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge" />
        <meta name="author" content="Salvador Guzman" />

        <title>Rxjs Keydown/Keyup Example</title>
        <style>
            h1 {
                text-align: center;
            }

            #buffer {
                text-align: center;
            }
        </style>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/rxjs/5.4.2/Rx.min.js"></script>
    </head>
    <body>
        <h1>Rxjs Keydown/Keyup Example</h1>
        <div id="buffer">
            <h2 id="key"></h2>
        </div>
        <script>
            const keyArea = document.getElementById('key');

            const keys$ = Rx.Observable.fromEvent(document, 'keydown').map(s => 'down ' + s.key)
                .merge(Rx.Observable.fromEvent(document, 'keyup')
                    .map(s => 'up ' + s.key))
                .distinctUntilChanged()
                .subscribe(s => keyArea.innerText = s)
        </script>
    </body>
</html>
